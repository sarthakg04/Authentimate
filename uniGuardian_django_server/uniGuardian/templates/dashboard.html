{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Startup preview - Main page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="custom" content="MjI1MjA0" id="snextras">
    <link rel="icon" href="i/favicon-default.png">
    <!-- AOS 3.0.0-beta.6 plugin CSS (Animations) -->
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css"/>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@100;200;300;400;500;600;700;800;900&family=DM+Sans:wght@100;200;300;400;500;600;700;800;900&subset=latin&display=swap"
          rel="stylesheet" id="sf-google-fonts">
    <!-- Startup CSS + Bootstrap CSS (Styles for all blocks) - Remove ".min" if you want to edit a css code -->
    <link href="https://designmodo.com/startup/app/pub/225204/296a9a4cc9a9ca667dd672a2f50df2ff/styles/css/styles.min.css?v=1701232705"
          rel="stylesheet" id="sf-custom-css"/>
    <!-- jQuery 3.6.0 (uncomment line below if you need jQuery) -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> -->
    <!-- Styles for controls (delete, move, edit, block name) -->
    <!-- Open graph settings (social networks sharing settings) -->
    <meta name='twitter:card' content='summary_large_image'>
    <!-- Open graph settings end -->
</head>
<body>
<nav class="navbar navbar-light bg-light justify-content-between">
    <a class="navbar-brand">
        <img src="{% static 'uniGuardian/company_logo.jpg' %}" alt="" class="img-fluid mw-15 mh-15 w-25"
             srcset="company_logo.jpg 0.25x">
    </a>
</nav>
<!--Content 1-->
<section class="px-10 px-md-20 py-5 py-md-5 bg-bg-3">
    <div class="row h-100">
        <!-- Personal Details -->
        <div class="col-6 border rounded-3 p-xl-8 m-xl-4">
            <h2>Personal Details</h2>
            <div class="col-6 w-100">
                <div class="row">
                    <div class="col-6">
                        <img src="https://i.ibb.co/8zGSFDX/image-2.png" alt="" class="img-fluid mw-100 mh-100 w-75">
                    </div>
                    <div class="col-6 p-xxl-12">
                        <p class="position-relative order-xxl-2 fw-bold text-dark-1 text-md-start">
                            {{ personal_details.name }}</p>
                        <p class="fw-bold text-dark-1 text-md-start">{{ personal_details.course }}</p>
                        <p class="fw-bold text-dark-1 text-md-start">{{ personal_details.semester }}, {{ personal_details.course_type }}</p>
                    </div>
                </div>
            </div>
        </div>
        <!-- Key Highlights -->
        <div class="border rounded-3 p-xl-5 m-xl-4 col-5">
            <h2>Key Highlights</h2>
            <p class="text-start p-xxl-2">{{ key_highlights.summary }}</p>
            <h2 class="fw-light fs-3 fw-bold p-xxl-4">AI Written Detection</h2>
            <img src="{% static 'uniGuardian/ai_detected.png' %}" alt="" class="img-fluid">
            <h5 id="p_ai" class="py-5 py-md-5 bg-bg-3">&nbsp;&nbsp;Percentage Written By AI: {{ key_highlights.percentage_written_by_ai|floatformat:2 }}% </h5>
        </div>
    </div>
    <div class="row h-100 mw-100">
        <!-- Academic History -->
        <div class="border rounded-3 p-xl-8 w-auto m-xl-4 h-100 col-xl-8 min-vw-95">
            <h2 class="text-md-start">Academic History</h2>
            <div class="col-6 w-100">
                <div class="row">
                    <div class="col-6 p-xxl-12">
                        <h2 class="text-xl-start fs-2 pb-xl-4">My heading text</h2>
                        {% for history in academic_history %}
                        <p class="fw-bold text-dark-1 text-md-start">{{ history }}</p>
                        {% endfor %}
                    </div>
                    <!-- Highlights -->
                    <div class="col-6 p-xxl-12">
                        <h2 class="text-xl-start fs-2 pb-xl-4">Highlights</h2>
                        {% for highlight in highlights %}
                        <p class="fw-bold text-dark-1 text-md-start">{{ highlight }}</p>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
        <!-- Professional Work Experience -->
        <div class="border rounded-3 p-xl-8 m-xl-4 col-5 col-xl-5 h-auto w-50">
            <h2 class="text-md-start pb-xl-4">
                Professional Work Experience
                <br><br>
            </h2>
            {% for experience in professional_experience %}
            <h5 class="text-md-start pb-xl-4">{{ experience.title }}</h5>
            <ul>
                {% for item in experience.details %}
                <li>{{ item }}</li>
                {% endfor %}
            </ul>
            {% endfor %}
            <h2 class="text-md-start pb-xl-4">
                <br>
                Skills
                <br><br>
            </h2>
            <ul>
                {% for skill in skills %}
                <li class="text-md-start pb-xl-2">{{ skill }}</li>
                {% endfor %}
            </ul>
        </div>

        <!-- Psychometric Evaluation -->
        <div class="border rounded-3 p-xl-5 m-xl-4 col-5">
            <h2>Psychometric Evaluation</h2>
            <div id="json-data" style="display: none;" data-psychometric='{{ psychometric_evaluation|safe }}'></div>
            <canvas id="oceanChart" width="400" height="400"></canvas>
            <canvas id="discChart" width="400" height="400"></canvas>
            <div>Evaluation powered by SOPs, LORs, Resume</div>
        </div>
    </div>
</section>
    <!-- External Libraries -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://unpkg.com/aos@next/dist/aos.js"></script>

<!-- Your Custom Scripts -->
<!-- Ensure that these scripts are placed after the external libraries have been loaded -->

<!--<script src="app-dist/js/plugins.min.js?v=5.6.696"></script>-->
<!--<script src="app-dist/js/scripts.min.js?v=5.6.696"></script>-->

<!-- Inline Script for Startup Functions and Data Handling -->
<script>
    const jsonDataElement = document.getElementById('json-data');
    const psychometricData = JSON.parse(jsonDataElement.getAttribute('data-psychometric'));
    const oceanData = psychometricData.ocean_assessment;
    const discData = psychometricData.disc_assessment;
</script>

    const oceanData = temp_psychometricData.ocean_assessment;
    const discData = temp_psychometricData.disc_assessment;
</script>

<!-- Script for Charts -->
<script>
    const oceanLabels = Object.keys(oceanData);
    const oceanScores = Object.values(oceanData).map(item => item.score);
    const discLabels = Object.keys(discData);
    const discScores = Object.values(discData).map(item => item.score);

    function createRadarChart(chartId, labels, data, title) {
        const ctx = document.getElementById(chartId).getContext('2d');
        new Chart(ctx, {
            type: 'radar',
            data: {
                labels: labels,
                datasets: [{
                    label: title,
                    data: data,
                    backgroundColor: 'rgba(0, 123, 255, 0.2)',
                    borderColor: 'rgba(0, 123, 255, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                scale: {
                    ticks: {
                        beginAtZero: true,
                        max: 10
                    }
                }
            }
        });
    }

    createRadarChart('oceanChart', oceanLabels, oceanScores, 'OCEAN Assessment');
    createRadarChart('discChart', discLabels, discScores, 'DISC Assessment');
</script>

</body>
</html>
